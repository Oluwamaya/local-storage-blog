<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="bootstrap-5.3.0-alpha3-dist/css/bootstrap.min.css"
    />
  </head>
  <body>
    <div class="container text-center mt-3 bg-danger w-50 border border-dark">
      <h1 class="display-3">Shopping List</h1>
      <input id="input1"class="w-50 my-2"type="text"placeholder="Item"/><br />
      <input id="input2"class="w-50 my-2"type="number"placeholder="Quantity" /><br />
      <input id="input3" class="w-50 my-2" type="number" placeholder="price" />
      <div class="d-flex justify-content-around">
        <button id="show" class="bg-dark text-light mb-4">Submit</button>
        <p class="text-light">Total: <span id="add"></span></p>
      </div>
      <div id="result"></div>
      <div id="result2"></div>
    </div>
  </body>
  <script>
    let arr1 = [];
    let arr2 = [];
    let input1 = document.getElementById("input1");
    let input2 = document.getElementById("input2");
    let input3 = document.getElementById("input3");
    let total = document.getElementById("add");
    let result = document.getElementById("result");
    let result2 = document.getElementById("result2");
    let show = document.getElementById("show");

    //  if (localStorage.getItem("shopping") === null) {
    //      localStorage.setItem("shopping", JSON.stringify(arr1))
    //  }
    //  console.log(arr1)
    //   let newt = []
    //   newt = localStorage.getItem("shopping")
    //   let newt2 =  JSON.parse(newt)
    //   console.log(newt2)
    // //   arr1 = [...newt2]
    //   newt2.map((i,index)=>{
    //          result.innerHTML += `
    //         <div class="d-flex justify-content-between">
    //         <div>Items: ${i.items}</div>
    //         <div>price: ${i.price}</div>
    //         <div>quantity: ${i.quantity}</div>
    //         <div>subtotal: ${(i.price)* (i.quantity)}</div
    //         <button onclick="edit(${index})">edit</button>
    //         <button onclick="del(${index})">delete</button>
    //         </div>`
    //     })

    // let display = JSON.parse(localStorage.getItem("newInput"))
    // if (display) {

    // input1.value = display.items
    // input2.value = display.price
    // input3.value = display.quantity
    // }

    show.addEventListener("click", () => {
        let data = {
          items: input1.value,
          price: input2.value,
          quantity: input3.value,
        };
        arr2.push(data);
        console.log(arr2);
        localStorage.setItem("Man", JSON.stringify(arr2));
        byMe();
    })
    function byMe() {
      result.innerHTML = " ";
      let dis =  localStorage.getItem("Man");
      for (let i = 0; i < dis.length; i++) {
        const element = dis[i];
        result.innerHTML += `
        <div class="d-flex justify-content-between"> 
            <div>Items: ${element.items}</div>
            <div>price: ${element.price}</div>
            <div>quantity: ${element.quantity}</div>
            <div>subtotal: ${element.price * element.quantity}</div>
            <button onclick="edit(${i})">edit</button>
            <button onclick="del(${i})">delete</button>
        </div>`;
      }

      // total.innerHTML = arr1.reduce(function (total, item) {
      //   return item.price * item.quantity + total;
      // }, 0);
    }

    // function del(i) {
    //     let display = JSON.parse(localStorage.getItem("newInput"))
    //     arr1.splice(i,1)
    //     localStorage.setItem("newInput", JSON.stringify(arr1))

    //     result.innerHTML = ""

    //     for (let i = 0; i < arr1.length; i++) {
    //         let element = arr1[i];

    //             result.innerHTML += `
    //             <div class="d-flex justify-content-between">
    //                 <div>Items: ${element.items}</div>
    //                 <div>price: ${element.price}</div>
    //                 <div>quantity: ${element.quantity}</div>
    //                 <div>subtotal: ${(element.price)* (element.quantity)}</div>
    //                 <button onclick="edit(${i})">edit</button>
    //                 <button onclick="del(${i})">delete</button>
    //             </div>`

    //             total.innerHTML= arr1.reduce(function (total,item) {
    //                 return (item.price * item.quantity) + total
    //             },0)

    //     }
    // }
    // function edit(i){
    //     let display = JSON.parse(localStorage.getItem("newInput"))
    //     let maya1 = prompt("enter new item")
    //     let maya2= prompt("enter new price")
    //     let maya3 = prompt("enter new quantity")
    //     let brand = {
    //     items : maya1,
    //     price : maya2,
    //     quantity : maya3,
    //  }
    //     arr1.splice(i,1,brand)
    //     localStorage.setItem("newInput",JSON.stringify(brand))
    //     result.innerHTML = ""
    //     for (let i = 0; i < arr1.length; i++) {
    //         let element = arr1[i];
    //             result.innerHTML += `
    //             <div class="d-flex justify-content-between">
    //                 <div>Items: ${element.items}</div>
    //                 <div>price: ${element.price}</div>
    //                 <div>quantity: ${element.quantity}</div>
    //                 <div>subtotal: ${(element.price)* (element.quantity)}</div>
    //                 <button onclick="edit(${i})">edit</button>
    //                 <button onclick="del(${i})">delete</button>
    //             </div>`

    //             total.innerHTML= arr1.reduce(function (total,item) {
    //                 return (item.price * item.quantity) + total
    //             },0)

    //     }
    // }
  </script>
  <script src="bootstrap-5.3.0-alpha3-dist/js/bootstrap.min.js"></script>
</html>
